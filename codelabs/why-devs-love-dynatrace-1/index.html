
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Why Devs Love Dynatrace - Episode 1</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="why-devs-love-dynatrace-1"
                  title="Why Devs Love Dynatrace - Episode 1"
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="Agenda" duration="0">
        <aside class="special"><p><em>In this Developer Webinar Series we want to bring you from Zero üë∂ to Hero ü¶∏ from Diagnosing Transactions and releases with Dynatrace to building unbreakable delivery pipelines with automatic performance tests and release validation and fullstack comparison.</em></p>
</aside>
 <iframe class="youtube-video" src="https://www.youtube.com/embed/BLOLbzd0Dmo?rel=0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>     
<p>Dynatrace assist developers on creating <strong>better software faster</strong>. This series is crafted for developers and performance engineers on helping them get the feedback they need and analyze the impact of every code change on every release. We will also learn how automated and intelligent QualityGates and Performance as a Self-Service stop bad releases going into production automatically.</p>
<aside class="special"><p>This systematic and generic approach can be applied to any software that Dynatrace monitors and any CI/CD pipeline that our customers may use, meaning we can speed up üöÄ their delivery up to 80% while ensuring the functionality and a higher level of quality of their released software ‚úÖ.</p>
</aside>
<p class="image-container"><img alt="This (" src="img/8c080a23b26abbe0.png"></p>
<p>Some of the topics you will learn:</p>
<ul>
<li>Help you become more comfortable using Dynatrace to diagnose application problems, understand the service dependencies, the architecture and know how and where to optimize.</li>
<li>Help you diagnose the overall health of an environment from thousands of services all the way to threads, exceptions and response times of a single transaction end-2-end through all layers (FullStack)</li>
<li>Get Feedback on Transactions for Developers</li>
<li>Do a Top Down-analysis and Bottom-Up (on single or multiple transactions)</li>
<li>Understand the added-value for developers to have an automated qualitygate in the CI/CD pipeline.</li>
<li>Make the diagnosis easy for others in your organization</li>
<li>Not everybody needs to be a &#34;Dynatrace Expert&#34;</li>
<li>Understand how you can leverage Davis so she helps you monitor and diagnose applications.</li>
<li>Understand the value of automatic quality gates with performances as a self-service</li>
<li>Best Practices for automatic loadtesting and quality gates. How to build SLI/SLOs for continuous release comparison. </li>
<li>Integrate, compare and analyze Loadtests with Dynatrace</li>
<li>Compare and analyze GarbageCollection, Memory Allocation, Survived Objects, ThreadGroups &amp; blocking Threads as well as CPU Utilization for loadtests or any ondemand analysis for that matter.</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Introduction" duration="10">
        <aside class="special"><p>As a developer you are asked to create high quality software faster. Fullstack Observability and automated distributed tracing with code level visibility give you all the data you need to analyse and understand response time hotspots, cpu and memory usage, errors and exceptions, service dependencies, synchronization and thread issues, inefficient database calls, problematic libraries or impact of 3rd party components.</p>
</aside>
<p class="image-container"><img alt="perfclinic_devslovedynatrace_ep1.gif" src="img/8021712f77742cec.gif"></p>
<p>In Episode 1 of this Performance Clinic Series, we will show you hands-on on how you can use Dynatrace in your development &amp; test environments to automate observability and analysis of your applications &amp; services. We will learn how to analyse problematic transactions in complex &amp; hybrid distributed systems. We will dive into easy access of your distributed traces (we call them PurePaths) and how Dynatrace automatically shows the hotspots so that you can easily optimize or fix them.</p>
<p>In Episode 1 we will learn how to:</p>
<ul>
<li>Easy start with Dynatrace in Development &amp; Integration environments</li>
<li>Analyze big &amp; complex environments</li>
<li>Enhance Developers FeedBack with distributed tracing and code level insights</li>
<li>Analyze and identify developer transactions (or any kind of transaction)</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Dynatrace &amp; the OneAgent for Devs in a nutshell" duration="0">
        <h2 is-upgraded>Dynatrace Secret Sauce</h2>
<aside class="special"><p class="image-container"><img alt="Dynatrace Secret Sauce" src="img/8e79175ebeb2207.png"></p>
</aside>
<h2 is-upgraded>Observability and so much more</h2>
<aside class="special"><p class="image-container"><img alt="observability and more" src="img/3f1ed5021362aa93.png"></p>
</aside>
<h2 is-upgraded>Features for Developers in a nutshell</h2>
<aside class="special"><p class="image-container"><img alt="observability and more for devs" src="img/894d4fed97b3000.png"></p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Installing the OneAgent &amp; Easytravel" duration="0">
        <p>The environment we want to analyze consists of a booking travel portal with a mix of technologies. A mix of Legacy and Classic Stack and also some new stack running on containers. You just need an ubuntu machine to spin it up.</p>
<aside class="special"><p>Spend more time innovating üòÑ‚öóÔ∏è and less time configuring üò£üõ†</p>
</aside>
<aside class="special"><p>You have to bring your own Dynatrace tenant. If you don&#39;t have a Dynatrace tenant yet, sign up for a <a href="https://www.dynatrace.com/trial/" target="_blank">free trial</a> or a <a href="https://www.dynatrace.com/developer/" target="_blank">developer account</a>.</p>
</aside>
<h2 is-upgraded>Download install script</h2>
<p>Download help script to install Easytravel, Nginx, Docker the OneAgent and other utils</p>
<pre><code>wget https://raw.githubusercontent.com/dynatrace-perfclinics/why-devs-love-dynatrace/main/easytravel/ubuntu-setup-easytravel.sh
</code></pre>
<h2 is-upgraded>Add your Dynatrace credentials</h2>
<aside class="special"><p>We want that the script installs the OneAgent before installing easyTravel and the docker containers. We just need to add the variables at the beginning.</p>
</aside>
<pre><code>## Set DT_TENANT_URL and API TOKEN
# ---- Define Dynatrace Environment ----
# Sample: https://{your-domain}/e/{your-environment-id} for managed or https://{your-environment-id}.live.dynatrace.com for SaaS
DT_TENANT_URL=
DT_PAAS_TOKEN=
</code></pre>
<h2 is-upgraded>Execute the script</h2>
<pre><code>sudo bash -c &#39;./ubuntu-setup-easytravel.sh &amp;&#39;
</code></pre>
<aside class="special"><p>If you want to learn more about how this script is composed and setting up easytravel, it&#39;s endpoints and everything that is installed, check out the codelab <a href="https://dynatrace-perfclinics.github.io/codelabs/deploy-easytravel-at-localhost" target="_blank">Deploying Easytravel @ 127.0.0.1</a></p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Environment Configuration (MonACo)" duration="0">
        <p>Monaco stands for <code>Monitoring As Code</code>. In Dynatrace we love to automate. With monaco we can automate the configuration of one or multiple environments following a GitOps approach.</p>
<aside class="special"><p>Spend more time innovating üòÑ‚öóÔ∏è and less time configuring üò£üõ†</p>
</aside>
<aside class="special"><p>Having an environment where automatically every Host, Process, Namespace, Transaction etc... gets categorized automatically (via automated tagging) is a ver powerful and useful approach that should be used on every DevOps practice. With Dynatrace you can use filters and chain of filters to find the needle in the haystack in a matter of seconds.</p>
</aside>
<p>We will import the following configurations following a GitOps approach:</p>
<ul>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/management-zones/" target="_blank">Management Zones</a></li>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/tags-and-metadata/setup/how-to-define-tags/#automated-approach" target="_blank">Automated Tagging</a></li>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/transactions-and-services/basic-concepts/request-attributes/" target="_blank">Request Attributes</a></li>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/dashboards-and-charts/dashboards/create-dashboards/" target="_blank">Dashboards</a></li>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/real-user-monitoring/setup-and-configuration/web-applications/initial-configuration/define-your-applications-via-the-my-web-application-placeholder/" target="_blank">Application Definition</a></li>
</ul>
<h2 is-upgraded>Download Monaco</h2>
<p><a href="https://github.com/dynatrace-oss/dynatrace-monitoring-as-code" target="_blank">Dynatrace Monitoring as Code</a></p>
<p>Download the <a href="https://github.com/dynatrace-oss/dynatrace-monitoring-as-code/releases/latest" target="_blank">latest release (depending the architecture of your OS)</a> and add the binary to your path.</p>
<h2 is-upgraded>Check that you can execute the binary</h2>
<pre><code>monaco --help
</code></pre>
<h2 is-upgraded>Clone the GitOps configuration</h2>
<pre><code>git clone https://github.com/dynatrace-perfclinics/why-devs-love-dynatrace
</code></pre>
<h2 is-upgraded>Navigate to the GitOps directory</h2>
<pre><code>cd why-devs-love-dynatrace/monaco/devlove 
</code></pre>
<h2 is-upgraded>Add your variables to a helper script <code>set_dt_variables.sh</code></h2>
<pre><code>vi set_dt_variables.sh
</code></pre>
<pre><code># Sample: https://{your-domain}/e/{your-environment-id} for managed or https://{your-environment-id}.live.dynatrace.com for SaaS
DT_TENANT_URL=
# https://www.dynatrace.com/support/help/shortlink/token#create-an-api-token-
# Token in format dt0c01.STXXXX....
DT_API_TOKEN=

# DT_USER (Your login username in the environment, Click on the top right on the people icon and see your id, it can be your email or a username)
DT_USER=
</code></pre>
<aside class="warning"><p>The variables will be exported as environment variables.</p>
</aside>
<h2 is-upgraded>Load the variables in the shell</h2>
<pre><code>source set_dt_variables.sh
</code></pre>
<h2 is-upgraded>Execute Monaco</h2>
<pre><code>monaco deploy -e environment.yaml --project episode1 -v
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Diagnosing any Environment" duration="0">
        <h2 is-upgraded>Understanding the Performance of any Environment</h2>
<aside class="special"><p>Leveraging automated tagging and management zones you can get very fast and easy an understanding of user experience, transactions, hosts, application network traffic, failures on specific stages, regions, datacenters, namespaces, departments, subcompanies, etc.</p>
</aside>
<p class="image-container"><img alt="software-intelligence-dashboard" src="img/481f688dbf62e9fa.png"></p>
<p>In this Performance Overview Dashboard you can see:</p>
<ul>
<li>the amount and health of databases, services, hosts and applications.</li>
<li>amount of requests vs responsetime 95th percentile</li>
<li>Network status</li>
<li>HTTP errors and failed transactions</li>
<li>Database calls and time spent in database per transaction</li>
<li>most failing services</li>
<li>service throughput</li>
<li>slowest services</li>
<li>database calls per service</li>
<li>time transactions spent in database</li>
<li>service time spent in wait, lock, IO and CPU</li>
<li>JVM CPU by ThreadGroup</li>
<li>GC by Poolname</li>
<li>Memory Allocation Objects by API</li>
</ul>
<aside class="special"><p>Click on the Management Filter (Top right) Filter by EasyTravel or BankJob. See how the Dashboard automatically adapts to the entities filtered.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Deployment overview" duration="0">
        <p>For getting a quick understanding on what is deployed on an enviroment, I recommend to start with the following sections:</p>
<h2 is-upgraded>Technologies</h2>
<aside class="special"><p>Click on Technologies (either on) the link of the dashboard or expand the left menu &gt; technologies</p>
</aside>
<p class="image-container"><img alt="technologies" src="img/5cf61dc59e6c92c8.png"></p>
<aside class="warning"><p>In this screenshot your might find more technologies since we have a Developer Kubernetes Cluster deployed from Episode 2.</p>
</aside>
<h2 is-upgraded>Applications</h2>
<p>Get an understanding on the real users accessing the defined applications.<br><img alt="technologies" src="img/7e314f3d6a1fd479.png"></p>
<h2 is-upgraded>Smartscape</h2>
<aside class="special"><p>Get an understanding on the dependencies and all the layers of the deployed &amp; monitored technologies. Hosts running on Datacenters, processes running on hosts, services (transactions) running on each process and users (applications) interacting with those services. <strong>Tip: use the management zone filter to check corresponding entities.</strong></p>
</aside>
<p class="image-container"><img alt="technologies" src="img/42f8b9fd3c5dc4f.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Basic Diagnostics" duration="0">
        <h2 is-upgraded>Diagnostic Tools üî¨ü©∫</h2>
<aside class="special"><p><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/diagnostics/" target="_blank">Learn more about Diagnostic Tools</a></p>
</aside>
<p class="image-container"><img alt="technologies" src="img/4931158e1657a6fd.png"></p>
<aside class="warning"><p>Some of the Diagnosis excercises will differ from your environment since in Episode 2 we will create a continuous delivery pipeline and deploy different releases of EasyTravel. The releases will be automatically load tested, compared and evaluated with an intelligent quality gate. For learning how to work with filters and chain of filters we don&#39;t need to build the pipeline at this moment.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Diagnostics - Requests" duration="0">
        <aside class="special"><p>Click on Top web requests. This will open a Multidimensional Analyis of all top requests.</p>
</aside>
<p class="image-container"><img alt="requests" src="img/da776a678369541.png"></p>
<aside class="special"><p>Notice how you can change the <strong>splitting criterias</strong>, <strong>split mode</strong>, the <strong>aggregation</strong> and the <strong>metric</strong> to plot the dimension.</p>
</aside>
<p><em>We will search for the following transactions:</em></p>
<h2 is-upgraded>üîé Only failed transactions</h2>
<p class="image-container"><img alt="requests" src="img/bc0df7f0b54f53d9.png"></p>
<h2 is-upgraded>üîé Transactions with more than 10 seconds over the last 6 hours</h2>
<p class="image-container"><img alt="requests" src="img/c6112d20381c7ba1.png"></p>
<aside class="special"><p>By changing the Metric to <strong>Reponse time</strong>, <strong>Aggregation</strong> to Maximum you get an understanding of the slowest requests on the queried time.</p>
</aside>
<h2 is-upgraded>üîé Transactions calling dynatrace.com</h2>
<p class="image-container"><img alt="requests" src="img/69cb5e5a540307b3.png"></p>
<aside class="special"><p>By clicking on on the 3 dots, an analysis menu for the selected requests opens. By Clicking for example on the <strong>service backtrace</strong>, you can trace the requests back to it&#39;s origin.</p>
</aside>
<h2 is-upgraded>üîé Transactions that makes more than 100 database calls.</h2>
<p class="image-container"><img alt="requests" src="img/8b89bdda77ce711b.png"></p>
<h2 is-upgraded>üîé Transactions with Lock issues</h2>
<aside class="warning"><p>Plotting by <strong>Lock time</strong> &amp; aggregation <strong>maximum</strong> shows you the time a transaction spends in Lock time. Meaning the Thread is bloqued and can&#39;t continue doing it&#39; job.</p>
</aside>
<p class="image-container"><img alt="requests" src="img/c1e233a3d0eb3d75.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Diagnostics - Database Statements" duration="0">
        <aside class="special"><p>Click on Top Database statements. This will open a Multidimensional Analyis of all database statements.</p>
</aside>
<p class="image-container"><img alt="requests" src="img/35145022ab5bbf88.png"></p>
<h2 is-upgraded><em>We will search for the following transactions:</em></h2>
<h2 is-upgraded>üîé Do we have failing  database statements?</h2>
<p class="image-container"><img alt="requests" src="img/533f3cdf8a851ca3.png"></p>
<aside class="special"><p>There is no match which means there are no failed database statements. Which is good. o you have failed database statements or failed requests in your environment?</p>
</aside>
<h2 is-upgraded>üîé Which is the slowest database transaction of the day? <strong>Continue analysing with the outliers</strong> Detect the slowest execution and understand from where was this SQL triggered.</h2>
<p class="image-container"><img alt="requests" src="img/bd872b59d26ea1dc.png"></p>
<aside class="special"><p>We plot by <strong>response time</strong> and <strong>maximum</strong> and we continue filtering by adding an operand for <strong>&gt; response time</strong>. Then we select the slowest SQL and Click on <strong>Outliers</strong>.</p>
</aside>
<p class="image-container"><img alt="requests" src="img/d358115800c291e7.png"></p>
<aside class="special"><p>Here we get an understanding of the distribution of the transactions. Then on the 3 dots, we do a <strong>backtrace</strong> to understand who triggered this SQL.</p>
</aside>
<p class="image-container"><img alt="requests" src="img/9fefc1c50a9fd478.png"></p>
<aside class="special"><p>On the backtrace we notice that this transaction is coming from <strong>EasyTravel Angular</strong> from the request endpoint <code>/easytravel/rest/journeys/[1-9]</code>.</p>
</aside>
<h2 is-upgraded>üîé Which SQL hast the most Fetch count and wich the most Row count? Where is this transaction coming from? Which application and which user action is triggering this SQL?</h2>
<p class="image-container"><img alt="requests" src="img/bc3c6c14baf3a624.png"></p>
<aside class="special"><p>On the backtrace we notice that this transaction is being triggered directly from the AuthenticationService. By clicking on each node you get details of those transactions. here we see the different Methods (requests) and its amount that are triggering such an SQL to the Database. You can also check the instances and validate if the loadbalancing is done properly and which instance (container, pod, etc..) did that transaction at a specific time.</p>
</aside>
<p class="image-container"><img alt="requests" src="img/d901ef6bd224652d.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Diagnosis - Exceptions" duration="0">
        <aside class="warning"><p><strong>Protip:</strong> ‚ö†Ô∏è Exceptions are expensive and can cost unnecessary memory and CPU consumption. Having the ability to sort them by amount, impact and impacted services allows you to assign them to tickets in your <strong>Backlog</strong>. Making your application continuously better.</p>
</aside>
<p><em>We will search for the following transactions:</em></p>
<aside class="special"><p>Click on Exception Analysis.</p>
</aside>
<h2 is-upgraded>üîé All Exceptions of the day</h2>
<p class="image-container"><img alt="ex" src="img/b6eec67df9c3bf9c.png"></p>
<h2 is-upgraded>üîé Failed exceptions</h2>
<p class="image-container"><img alt="ex" src="img/3b0917ef8edecaf3.png"></p>
<aside class="special"><p>Dynatrace has the ability to configure custom error detection for your services. If there is an BusinessException where you want to mark the transation failed so the failurerate increases, you can do this in the <a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/transactions-and-services/configuration/configure-service-error-detection/" target="_blank">service error detection</a>.</p>
</aside>
<aside class="special"><p><strong>Let üëß üß† DAVIS work for you!</strong></p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Developer Feedback and Manual Testing" duration="0">
        <p class="image-container"><img src="img/f33bcc526708217b.png"></p>
<aside class="special"><p>In this section we will see how developers can get feedback on real time from any environment, test, development, integration or even production systems.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Dev Feedback - REST Sign-In" duration="0">
        <h2 is-upgraded>REST Sign-In (Create Account) EasyTravel</h2>
<p>We are asked to test the REST Sign-In and Login functionality of Easytravel. To understand the flow of the transaction, response time and architecture. We are only given the REST Endpoint where <code>&#123;&#123;custom.easytravel_ip}}</code> is the IP where easyTravel is deployed.</p>
<pre><code>POST http://&#123;&#123;custom.easytravel_ip}}/easytravel/rest/signin
</code></pre>
<p>JSON Body</p>
<pre><code>{
    &#34;firstName&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;,
    &#34;lastName&#34;: &#34;&#123;&#123;custom.developer_name}} LastName&#34;,
    &#34;email&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;,
    &#34;password&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;,
    &#34;state&#34;: &#34;Bayern&#34;,
    &#34;city&#34;: &#34;Munich&#34;,
    &#34;street&#34;: &#34;Main Street 1&#34;,
    &#34;door&#34;: &#34;&#34;,
    &#34;phone&#34;: &#34;+49123456789&#34;
}

</code></pre>
<p>We are going to pass the following attributes into the POST request.</p>
<pre><code>HTTP Headers:
Content-Type: application/json
x-developer: yourname
</code></pre>
<aside class="special"><p>Notice the <code>x-developer</code> header. This parameter is automatically captured in the environment. We deployed this request attribute previously with monaco.</p>
</aside>
<p>For this excercise you can use cURL, VisualCode, Postman or any REST tool of your choice. Here is an API Test already preconfigured for you <a href="https://apitester.com/shared/checks/1e9c26fe152648adace2db35aaa2a6f6" target="_blank">üö¶ API TEST Template for SingIn</a></p>
<ul>
<li>The test consists of basically 2 steps, POST request and an assert.</li>
<li>Modify the X-Developer Header with <strong>your_name_identifier</strong>.</li>
<li>This value will be used as email and password for the creation of the SignIn. (just for keeping things simple)</li>
</ul>
<p class="image-container"><img alt="alt" src="img/ae00c71f806d89ff.png"></p>
<h2 is-upgraded>Create an Account via REST</h2>
<aside class="special"><p>Click on <strong>Test</strong></p>
</aside>
<aside class="special"><p>It should pass all 4 steps.</p>
</aside>
<p class="image-container"><img alt="alt" src="img/ec83d4ca609f1f0c.png"></p>
<aside class="special"><p>On the response you see it returns a JSON with the Account details and a RC 200.</p>
</aside>
<p class="image-container"><img alt="alt" src="img/2dc3b4c807ff2140.png"></p>
<aside class="warning"><p>Now, click on <strong>Test</strong> again. Yes, with the same data. Let‚Äòs try to create the same Sign-In Account.</p>
</aside>
<p class="image-container"><img alt="alt" src="img/71136efeb80ceb46.png"></p>
<aside class="warning"><p>The test should fail. What error code did you get?</p>
</aside>
<p class="image-container"><img alt="alt" src="img/23777da4a0f351ba.png"></p>
<aside class="warning"><p>You should see a ResponseCode 403 and the following error message:</p>
</aside>
<pre><code>{&#34;error&#34;:&#34;The email address you entered is already registered.&#34;}
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Dev Feedback - REST Log-In" duration="0">
        <h2 is-upgraded>REST Login (Log in to the created account)  EasyTravel</h2>
<p>Before we analyse the transactions in Dynatrace, let&#39;s test that we can create a Login with the created Account.</p>
<p>The endpoint is the following:</p>
<pre><code>POST http://&#123;&#123;custom.easytravel_ip}}/easytravel/rest/login
</code></pre>
<p>JSON Body</p>
<pre><code>{
    &#34;username&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;,
    &#34;password&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;
}
</code></pre>
<h3 is-upgraded>Login via REST</h3>
<ul>
<li>Open the test <a href="https://apitester.com/shared/checks/09c76ef3a75e45ed8a9547996f6d0198" target="_blank">üö¶ API TEST Template for Login</a></li>
<li>Modify the developer name with your_name to the name where you created the account<br><img alt="alt" src="img/dc63438e7ed159ac.png"></li>
<li>Click on Test</li>
<li>You should have a succesfull test and the reponse returns the entered data from the Account.<br><img alt="alt" src="img/14e4bb246218db81.png"></li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Dev Feedback SignIn in Dynatrace" duration="0">
        <h3 is-upgraded>MDA FeedBack Developer</h3>
<ul>
<li>Go to MDA and search the request by <code>{RequestAttribute:Developer}</code></li>
</ul>
<p class="image-container"><img alt="alt" src="img/9706ebb42151f8d6.png"></p>
<p><em>You&#39;ll find your request for each transaction twice, but on an Apache Tomcat and on an NGINX. The NGINX (which is running in a docker container) works as a reverse proxa and forwards all headers, hence Tomcat also captures the </em><code>x-developer</code><em> header. pretty easy to understand by showing the service flow or backtrace.</em></p>
<ul>
<li>Filter your SignIn requests and show the Service-Flow from the NGINX service.</li>
</ul>
<p class="image-container"><img alt="alt" src="img/17f2f10983d512a2.png"></p>
<p>Remove the filter of the <code>sign</code> request. When removing the request type you&#39;ll notice the 3 distributed trace of your requests (2x signin + 1x login).</p>
<aside class="special"><p>Dynatrace is showing the average response time of the 3 requests and the intertiercalls to each service. The Response Time contribution is dependent of the selected transactions. By selecting a service (node) of the distributed transactions on the right you&#39;ll get an overview of the passing transactions and also the corresponding infrastructure, meaning if you have for example multiple replicasets of a deployment you can filter and see exactly which transactions passed through which container (process) inside a pod.</p>
</aside>
<p class="image-container"><img alt="alt" src="img/13c1b9ce371b75f8.png"></p>
<p>Now let&#39;s filter the transaction of the correct Account creation. Add a <code>response code:200</code> and <code>request:sign</code></p>
<p class="image-container"><img alt="alt" src="img/10cf2d9c367a8f6.png"></p>
<p>Now on the NGINX Service we click <strong>Analyze</strong> and go to the <strong>Response time hotspots</strong>. I like to think that I submerge into the service and navigate inside the service.</p>
<p class="image-container"><img alt="alt" src="img/9ba9f06835d29e8e.png"></p>
<p>Inside the Response Time hotspots Dynatrace shows us the average time of the selected transactions on the NGINX service. The distribution of its transactions (we have only one here) and the top findings.</p>
<p class="image-container"><img alt="alt" src="img/39dd763c543b263f.png"></p>
<p>We see that the most of the time is spent on interaction with other services which is the Method <code>signUser</code> on the EasyTravel Service. We click on the filter to navigate forward.</p>
<p class="image-container"><img alt="alt" src="img/9f9bcfd30f5eed3a.png"></p>
<p>Notice how we <strong>jumped</strong> into the next service. Imagine that you are navigating within the distributed transactions and now you find yourself on the next service.</p>
<p class="image-container"><img alt="alt" src="img/c85e596b7c49cee6.png"></p>
<p>Notice how we start adding a chain of filters into the analysis and we navigate through the services. Now the time changed to 13.9 ms because we are in the <strong>EasyTravelService.</strong> From those 13.9ms, 8 milliseconds are spent on code execution whitin this service (java code since its a tomcat) and 5.82 ms in calls to <code>addNewUser</code>in the <code>AuthenticationService</code>. We click on the filter on the <code>addNewUser</code>in the <code>AuthenticationService</code> to jump to the next service.</p>
<p class="image-container"><img alt="alt" src="img/c71ef4d943a7f649.png"></p>
<p>Now we find ourselves in the AuthenticationService. The timings adapt and we see the information for this transaction and this service. By clicking to the Database we see there were 8 request = 4 Connection Aquisitions + 2 SQL Statements (1 x Select + 1 x Insert ) + its corresponding 2 Commits.</p>
<p class="image-container"><img alt="alt" src="img/7f90db96cb86309f.png"></p>
<p>Now let&#39;s show the Purepath so we understand how we navigated. Scrolldown and click on Backtrace and on the NGINX node, click on <strong>Analyze &gt; Purepaths</strong>.</p>
<p class="image-container"><img alt="alt" src="img/c36cb8b228bfcb5d.png"></p>
<p>Now it&#39;s showing us the purepath from the nginx as start (distributed trace with all it&#39;s spans and code insights). On the dropdown on the right, show the HTTP request data. Now we remove the filter of the <strong>response code 200</strong> on the NGINX node and click <strong>apply</strong>. What happens?</p>
<p class="image-container"><img alt="alt" src="img/d08a1c5d94580015.png"></p>
<p>It&#39;s also showing us the transaction that failed.</p>
<p>If you compare them you&#39;ll notice that the one that succeded (besides having the response code 200 which is obvious) has an insert statement.</p>
<p class="image-container"><img alt="alt" src="img/e78c81555800be50.png"></p>
<p>This is due the fact that the previous select statement (select user...) does not find the account hence is able to insert a new account in the database.</p>
<p class="image-container"><img alt="alt" src="img/ad7c9f481646848a.png"></p>
<p>The subsequent account creation returns a row hence the double account can&#39;t be created.</p>
<p class="image-container"><img alt="alt" src="img/96da217a80308e2d.png"></p>
<p>The rows returned can also be seen for both transactions by displaying the purepaths from the database node.</p>
<p class="image-container"><img alt="alt" src="img/82cf5142fad8f4a5.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Dev Feedback REST Login in Dynatrace" duration="0">
        <h3 is-upgraded>Service-flow Login</h3>
<ul>
<li>Now show the flow of your Login.</li>
<li>Notice again the intertier-calls how they add up, the contribution of each service and the infrastructure where it&#39;s running.</li>
</ul>
<h3 is-upgraded>ResponseTime Hotspots Login</h3>
<p>Open the ResponseTime Hotspots from the ReverseProxy. Notice the contribution from Tomcat the Calls to AuthenticationService (4x) and VerificationService (1x)</p>
<p>Notice the contribution by Method within the AuthenticationService and how it can tell us which method is taking the most time within a single transaction (even though we are moving in 2 digit ms time)</p>


      </google-codelab-step>
    
      <google-codelab-step label="Feedback" duration="0">
        <aside class="special"><p>We are happy to hear your feedback!</p>
</aside>
<p>We are happy to hear your thoughts &amp; suggestions!</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
