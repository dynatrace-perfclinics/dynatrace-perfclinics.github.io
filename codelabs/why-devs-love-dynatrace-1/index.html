
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Why Devs Love Dynatrace - Episode 1</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="why-devs-love-dynatrace-1"
                  title="Why Devs Love Dynatrace - Episode 1"
                  environment="web"
                  feedback-link="">
    
      <google-codelab-step label="Agenda" duration="0">
        <p>With this Developer Webinar Series we want to bring you from Zero to Hero</p>
<aside class="warning"><p>Episode 1-4 Agenda comes here</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Introduction" duration="10">
        <aside class="special"><p>As a developer you are asked to create high quality software faster. Fullstack Observability and automated distributed tracing with code level visibility give you all the data you need to analyse and understand response time hotspots, cpu and memory usage, errors and exceptions, service dependencies, synchronization and thread issues, inefficient database calls, problematic libraries or impact of 3rd party components.</p>
</aside>
<p class="image-container"><img alt="perfclinic_devslovedynatrace_ep1.gif" src="img/8021712f77742cec.gif"></p>
<p>In Episode 1 of this Performance Clinic Series, we will show you hands-on on how you can use Dynatrace in your development &amp; test environments to automate observability and analysis of your applications &amp; services. We will learn how to analyse problematic transactions in complex &amp; hybrid distributed systems. We will dive into easy access of your distributed traces (we call them PurePaths) and how Dynatrace automatically shows the hotspots so that you can easily optimize or fix them.</p>
<p>In Episode 1 we will learn how to:</p>
<ul>
<li>Easy start with Dynatrace in Development &amp; Integration environments</li>
<li>Analyze big &amp; complex environments</li>
<li>Enhance Developers FeedBack with distributed tracing and code level insights</li>
<li>Analyze and identify developer transactions (or any kind of transaction)</li>
</ul>


      </google-codelab-step>
    
      <google-codelab-step label="Dynatrace &amp; the OneAgent for Devs in a nutshell" duration="0">
        <h2 is-upgraded>Dynatrace Secret Sauce</h2>
<aside class="special"><p class="image-container"><img alt="Dynatrace Secret Sauce" src="img/8e79175ebeb2207.png"></p>
</aside>
<h2 is-upgraded>Observability and so much more</h2>
<aside class="special"><p class="image-container"><img alt="observability and more" src="img/3f1ed5021362aa93.png"></p>
</aside>
<h2 is-upgraded>Features for Developers in a nutshell</h2>
<aside class="special"><p class="image-container"><img alt="observability and more for devs" src="img/894d4fed97b3000.png"></p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Installing the OneAgent &amp; Easytravel" duration="0">
        <p>The environment we want to analyze consists of a booking travel portal with a mix of technologies. A mix of Legacy and Classic Stack and also some new stack running on containers. You just need an ubuntu machine to spin it up.</p>
<aside class="special"><p>You have to bring your own Dynatrace tenant. If you don&#39;t have a Dynatrace tenant yet, sign up for a <a href="https://www.dynatrace.com/trial/" target="_blank">free trial</a> or a <a href="https://www.dynatrace.com/developer/" target="_blank">developer account</a>.</p>
</aside>
<h2 is-upgraded>Download install script</h2>
<p>Download help script to install Easytravel, Nginx, Docker the OneAgent and other utils</p>
<pre><code>wget https://raw.githubusercontent.com/dynatrace-perfclinics/why-devs-love-dynatrace/main/easytravel/ubuntu-setup-easytravel.sh
</code></pre>
<h2 is-upgraded>Add your Dynatrace credentials</h2>
<aside class="special"><p>We want that the script installs the OneAgent before installing easyTravel and the docker containers. We just need to add the variables at the beginning.</p>
</aside>
<pre><code>## Set DT_TENANT_URL and API TOKEN
# ---- Define Dynatrace Environment ----
# Sample: https://{your-domain}/e/{your-environment-id} for managed or https://{your-environment-id}.live.dynatrace.com for SaaS
DT_TENANT_URL=
DT_PAAS_TOKEN=
</code></pre>
<h2 is-upgraded>Execute the script</h2>
<pre><code>sudo bash -c &#39;./ubuntu-setup-easytravel.sh &amp;&#39;
</code></pre>
<aside class="special"><p>If you want to learn more about how this script is composed and setting up easytravel, it&#39;s endpoints and everything that is installed, check out the codelab <a href="https://dynatrace-perfclinics.github.io/codelabs/deploy-easytravel-at-localhost" target="_blank">Deploying Easytravel @ 127.0.0.1</a></p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Environment Configuration (MonACo)" duration="0">
        <p>Monaco stands for <code>Monitoring As Code</code>. In Dynatrace we love to automate. With monaco we can automate the configuration of one or multiple environments following a GitOps approach.</p>
<aside class="special"><p>Having an environment where automatically every Host, Process, Namespace, Transaction etc... gets categorized automatically (via automated tagging) is a ver powerful and useful approach that should be used on every DevOps practice. With Dynatrace you can use filters and chain of filters to find the needle in the haystack in a matter of seconds.</p>
</aside>
<p>We will import the following configurations following a GitOps approach:</p>
<ul>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/management-zones/" target="_blank">Management Zones</a></li>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/tags-and-metadata/setup/how-to-define-tags/#automated-approach" target="_blank">Automated Tagging</a></li>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/transactions-and-services/basic-concepts/request-attributes/" target="_blank">Request Attributes</a></li>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/dashboards-and-charts/dashboards/create-dashboards/" target="_blank">Dashboards</a></li>
<li><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/real-user-monitoring/setup-and-configuration/web-applications/initial-configuration/define-your-applications-via-the-my-web-application-placeholder/" target="_blank">Application Definition</a></li>
</ul>
<h2 is-upgraded>Download Monaco</h2>
<p><a href="https://github.com/dynatrace-oss/dynatrace-monitoring-as-code" target="_blank">Dynatrace Monitoring as Code</a></p>
<p>Download the <a href="https://github.com/dynatrace-oss/dynatrace-monitoring-as-code/releases/latest" target="_blank">latest release (depending the architecture of your OS)</a> and add the binary to your path.</p>
<h2 is-upgraded>Check that you can execute the binary</h2>
<pre><code>monaco --help
</code></pre>
<h2 is-upgraded>Clone the GitOps configuration</h2>
<pre><code>git clone https://github.com/dynatrace-perfclinics/why-devs-love-dynatrace
</code></pre>
<h2 is-upgraded>Navigate to the GitOps directory</h2>
<pre><code>cd why-devs-love-dynatrace/monaco/devlove 
</code></pre>
<h2 is-upgraded>Add your variables to a helper script <code>set_dt_variables.sh</code></h2>
<pre><code>vi set_dt_variables.sh
</code></pre>
<pre><code># Sample: https://{your-domain}/e/{your-environment-id} for managed or https://{your-environment-id}.live.dynatrace.com for SaaS
DT_TENANT_URL=
# https://www.dynatrace.com/support/help/shortlink/token#create-an-api-token-
# Token in format dt0c01.STXXXX....
DT_API_TOKEN=

# DT_USER (Your login username in the environment, Click on the top right on the people icon and see your id, it can be your email or a username)
DT_USER=
</code></pre>
<aside class="warning"><p>The variables will be exported as environment variables.</p>
</aside>
<h2 is-upgraded>Load the variables in the shell</h2>
<pre><code>source set_dt_variables.sh
</code></pre>
<h2 is-upgraded>Execute Monaco</h2>
<pre><code>monaco deploy -e environment.yaml --project episode1 -v
</code></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Diagnosing any Environment" duration="0">
        <h2 is-upgraded>Understanding the Performance of any Environment</h2>
<aside class="special"><p>Leveraging automated tagging and management zones you can get very fast and easy an understanding of user experience, transactions, hosts, application network traffic, failures on specific stages, regions, datacenters, namespaces, departments, subcompanies, etc.</p>
</aside>
<p class="image-container"><img alt="software-intelligence-dashboard" src="img/481f688dbf62e9fa.png"></p>
<p>In this Performance Overview Dashboard you can see:</p>
<ul>
<li>the amount and health of databases, services, hosts and applications.</li>
<li>amount of requests vs responsetime 95th percentile</li>
<li>Network status</li>
<li>HTTP errors and failed transactions</li>
<li>Database calls and time spent in database per transaction</li>
<li>most failing services</li>
<li>service throughput</li>
<li>slowest services</li>
<li>database calls per service</li>
<li>time transactions spent in database</li>
<li>service time spent in wait, lock, IO and CPU</li>
<li>JVM CPU by ThreadGroup</li>
<li>GC by Poolname</li>
<li>Memory Allocation Objects by API</li>
</ul>
<aside class="special"><p>Click on the Management Filter (Top right) Filter by EasyTravel or BankJob. See how the Dashboard automatically adapts to the entities filtered.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="Deployment overview" duration="0">
        <p>For getting a quick understanding on what is deployed on an enviroment, I recommend to start with the following sections:</p>
<h2 is-upgraded>Technologies</h2>
<aside class="special"><p>Click on Technologies (either on) te link of the dashboard or expand the left menu &gt; technologies</p>
</aside>
<p class="image-container"><img alt="technologies" src="img/5cf61dc59e6c92c8.png"></p>
<p>In this screenshot your might find more technologies since we have a Developer Kubernetes Cluster deployed from Episode 2.</p>
<h2 is-upgraded>Applications</h2>
<p>Get an understanding on the real users accessing the defined applications.<br><img alt="technologies" src="img/7e314f3d6a1fd479.png"></p>
<h2 is-upgraded>Smartscape</h2>
<aside class="special"><p>Get an understanding on the dependencies and all the layers of the deployed &amp; monitored technologies. Hosts running on Datacenters, processes running on hosts, services (transactions) running on each process and users (applications) interacting with those services.</p>
</aside>
<p class="image-container"><img alt="technologies" src="img/42f8b9fd3c5dc4f.png"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Basic Diagnostics" duration="0">
        <h2 is-upgraded>Diagnostic Tools üî¨ü©∫</h2>
<p><a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/diagnostics/" target="_blank">More about Diagnostic Tools</a></p>
<p class="image-container"><img alt="technologies" src="img/4931158e1657a6fd.png"></p>
<h2 is-upgraded>Top Requests</h2>
<p>Search for:</p>
<ul>
<li>Only failed transactions</li>
<li>Transactions with more than 10 seconds over the last 6 hours</li>
<li>Transactions calling dynatrace.com</li>
<li>Transactions that makes more than 100 database calls.</li>
</ul>
<h2 is-upgraded>Top Database Statements</h2>
<p>Search for:</p>
<ul>
<li>Do we have failing  database statements?</li>
<li>Which is the slowest database transaction of the day? <strong>Continue analysing with the outliers</strong> Detect the slowest execution and understand from where was this SQL triggered.</li>
<li>Which SQL hast the most Fetch count and wich the most Row count? Where is this transaction coming from? Which application and which user action is triggering this SQL?</li>
</ul>
<h2 is-upgraded>Exceptions</h2>
<aside class="warning"><p>‚ö†Ô∏è Exceptions are expensive and can cost unnecessary memory and CPU consumption. Having the ability to sort them by amount, impact and impacted services allows you to assign them to tickets in your backlog. Making your application continuously better.</p>
</aside>
<p>Search for:</p>
<ul>
<li>All Exceptions of the day</li>
<li>Failed exceptions</li>
</ul>
<aside class="special"><p>Dynatrace has the ability to configure custom error detection for your services. If there is an BusinessException where you want to mark the transation failed so the failurerate increases, you can do this in the <a href="https://www.dynatrace.com/support/help/how-to-use-dynatrace/transactions-and-services/configuration/configure-service-error-detection/" target="_blank">service error detection</a>.</p>
</aside>
<h2 is-upgraded>Let üëß üß† DAVIS work for you!</h2>


      </google-codelab-step>
    
      <google-codelab-step label="Developer Feedback and Manual Testing" duration="0">
        <p>Feedback is one of the most important attributes on Software Development. The better, faster and reliable the feedback is, the better will the software be.</p>
<p>In this section we will see how developers can get feedback on real time from integration or production systems.</p>
<p><strong>No more &#34;well... it worked on my computer, is operations problem now ü§∑‚Äç‚ôÇÔ∏è &#34;‚ùóÔ∏è</strong></p>
<h2 is-upgraded>REST Sign-In</h2>
<h3 is-upgraded>REST Sign-In (Create Account) EasyTravel</h3>
<p>We are asked to test the REST Sign-In and Login functionality of  Easytravel. To understand the flow of the transaction, response time and architecture. We are only given the REST Endpoint.</p>
<pre><code>POST http://&#123;&#123;custom.easytravel_ip}}/easytravel/rest/signin
</code></pre>
<p>JSON Body</p>
<pre><code>{
    &#34;firstName&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;,
    &#34;lastName&#34;: &#34;&#123;&#123;custom.developer_name}} LastName&#34;,
    &#34;email&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;,
    &#34;password&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;,
    &#34;state&#34;: &#34;Bayern&#34;,
    &#34;city&#34;: &#34;Munich&#34;,
    &#34;street&#34;: &#34;Main Street 1&#34;,
    &#34;door&#34;: &#34;&#34;,
    &#34;phone&#34;: &#34;+49123456789&#34;
}

</code></pre>
<p>We are going to pass this attributes into the POST request.</p>
<pre><code>HTTP Headers:
Content-Type: application/json
x-developer: yourname
</code></pre>
<p>For this we can use cURL, Postman or any REST tool. Here is an API Test already preconfigured for you <a href="https://apitester.com/shared/checks/961787656e25474a903dd5dd917d7570" target="_blank">üö¶ API TEST Template for SingIn</a></p>
<ul>
<li>The test consists of basically 2 steps, POST request and an assert.</li>
<li>Modify the X-Developer Header with <strong>your_name_identifier</strong>.</li>
<li>This value will be used as email and password for the creation of the SignIn. (just for keeping things simple)</li>
</ul>
<h3 is-upgraded>Create an Account via REST</h3>
<ul>
<li>Click on Test</li>
<li>It should pass all 4 steps.</li>
<li>Now, click on ‚ÄûTest‚Äû again. Yes, with the same data. Let‚Äòs try to create the same Sign-In Account.</li>
<li>The test should fail. What error code did you get?</li>
</ul>
<h2 is-upgraded>REST Log-In</h2>
<h3 is-upgraded>REST Login (Log in to the created account)  EasyTravel</h3>
<pre><code>POST http://&#123;&#123;custom.easytravel_ip}}/easytravel/rest/login
</code></pre>
<p>JSON Body</p>
<pre><code>{
    &#34;username&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;,
    &#34;password&#34;: &#34;&#123;&#123;custom.developer_name}}&#34;
}
</code></pre>
<h3 is-upgraded>Login via REST</h3>
<ul>
<li>Open the test <a href="https://apitester.com/shared/checks/67a53403e464439fb4909b205912267d" target="_blank">üö¶ API TEST Template for Login</a></li>
<li>Modify the developer name with your_name to the name where you created the account</li>
<li>Click on Test</li>
<li>You should have a succesfull test and the reponse returns the entered data from the Account.</li>
</ul>
<h2 is-upgraded>REST Sign-In requests in Dynatrace</h2>
<h3 is-upgraded>MDA FeedBack Developer</h3>
<ul>
<li>Go to MDA and search the request by <code>{RequestAttribute:Developer}</code></li>
<li>Filter your requests and show the Service-Flow.</li>
</ul>
<h3 is-upgraded>ServiceFlow of the Developer Requests</h3>
<ul>
<li>Start the flow from the nginx reverse proxy.</li>
<li>By not filtering the 3 requests (2x signin + 1x login) you&#39;ll see the flow of the 3.</li>
</ul>
<h3 is-upgraded>Filter by the first correct sign-in</h3>
<p>Let&#39;s analyze first the correct signin.</p>
<ul>
<li>Fiter by <em>HTTP Code 200</em> + Request <em>&#34;sign&#34;</em> notice that you don&#39;t need to match the exact name of the request.</li>
<li>Notice how Dynatrace shows detailed information from every service and inter-tiercalls as DB calls.</li>
</ul>
<h3 is-upgraded>Response Time Hotspots Sign-In</h3>
<p>Navigate with the Response Time Hotspots all the way to the Database. Follow the services. Notice the detailed information about the SQLs and even the Connection Acquisitions.</p>
<h3 is-upgraded>Difference between the 2 Sign-Ins</h3>
<p>Can you notice the difference from the two Sign-in why the second Sign-in failed? That it got an HTTP 403 is obvious. But if you look at the purepaths in detail you&#39;ll notice that the select statement of the first Sign-In did not return any results from the database on the select statement hence it could create an account and subsequently an Insert was done. In the second attempt since there was a result (a row) returned, no Insert statement or new Account was created.</p>
<h2 is-upgraded>REST Login requests in Dynatrace</h2>
<h3 is-upgraded>Service-flow Login</h3>
<ul>
<li>Now show the flow of a Login.</li>
<li>Notice again the intertier-calls how they add up, the contribution of each service and the infrastructure where it&#39;s running.</li>
</ul>
<h3 is-upgraded>ResponseTime Hotspots Login</h3>
<p>Open the ResponseTime Hotspots from the ReverseProxy. Notice the contribution from Tomcat the Calls to AuthenticationService (4x) and VerificationService (1x)</p>
<p>Notice the contribution by Method within the AuthenticationService and how it can tell us which method is taking the most time within a single transaction (even though we are moving in 2 digit ms time)</p>


      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
